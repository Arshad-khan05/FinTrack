{% extends 'base.html' %}
{% load static %}

{% block title %}Sign Up - FinTrack{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="card auth-card scale-in">
        <!-- Auth Header -->
        <div class="auth-header">
            <div class="auth-icon">ðŸŽ‰</div>
            <h2 class="auth-title">Join FinTrack</h2>
            <p class="auth-subtitle">Create your account and start budgeting</p>
        </div>
        
        <!-- Signup Form -->
        <form method="post" autocomplete="off" class="auth-form">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="username" class="form-label">Username</label>
                <input 
                    type="text" 
                    id="username" 
                    name="username" 
                    class="form-input" 
                    placeholder="Choose a unique username"
                    required
                    autofocus
                >
            </div>
            
            <div class="form-group">
                <label for="firstname" class="form-label">First Name</label>
                <input 
                    type="text" 
                    id="firstname" 
                    name="firstname" 
                    class="form-input" 
                    placeholder="Your first name"
                    required
                >
            </div>
            
            <div class="form-group">
                <label for="lastname" class="form-label">Last Name</label>
                <input 
                    type="text" 
                    id="lastname" 
                    name="lastname" 
                    class="form-input" 
                    placeholder="Your last name"
                    required
                >
            </div>
            
            <div class="form-group">
                <label for="email" class="form-label">Email</label>
                <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    class="form-input" 
                    placeholder="your.email@example.com"
                    required
                >
            </div>
            
            <div class="form-group">
                <label for="password" class="form-label">Password</label>
                <input 
                    type="password" 
                    id="password" 
                    name="password" 
                    class="form-input" 
                    placeholder="Create a strong password"
                    required
                >
                <span class="form-help">At least 8 characters recommended</span>
            </div>
            
            <div class="form-group">
                <label for="confirm-password" class="form-label">Confirm Password</label>
                <input 
                    type="password" 
                    id="confirm-password" 
                    name="confirm-password" 
                    class="form-input" 
                    placeholder="Re-enter your password"
                    required
                >
            </div>
            
            <!-- Terms and Conditions Checkbox -->
            <div class="form-group" style="margin-top: var(--spacing-lg); margin-bottom: var(--spacing-lg);">
                <div style="display: flex; gap: var(--spacing-sm); align-items: flex-start;">
                    <input 
                        type="checkbox" 
                        id="terms" 
                        name="terms" 
                        required
                        style="margin-top: 5px; cursor: pointer; accent-color: var(--primary);"
                    >
                    <label for="terms" style="cursor: pointer; color: var(--text-secondary); font-size: 0.9rem; line-height: 1.5;">
                        I agree to the terms and conditions. My data will be securely stored and can be viewed by administrators only for account management purposes. My data will not be misused or shared with third parties.
                    </label>
                </div>
            </div>
            
            <button type="submit" class="btn btn-primary" style="width: 100%;">
                ðŸš€ Create Account
            </button>
        </form>
        
        <!-- Auth Footer -->
        <div class="auth-footer">
            <p>
                Already have an account? 
                <a href="{% url 'login' %}">Login here</a>
            </p>
            <p style="margin-top: var(--spacing-md); font-size: 0.9rem; color: var(--text-muted);">
                Need help? <a href="mailto:arshadkhan200205@gmail.com" style="color: var(--primary); text-decoration: none;">Contact us</a>
            </p>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Password matching validation
    document.addEventListener('DOMContentLoaded', () => {
        const password = document.getElementById('password');
        const confirmPassword = document.getElementById('confirm-password');
        
        confirmPassword.addEventListener('input', () => {
            if (password.value !== confirmPassword.value) {
                confirmPassword.setCustomValidity('Passwords do not match');
            } else {
                confirmPassword.setCustomValidity('');
            }
        });
        
        password.addEventListener('input', () => {
            if (confirmPassword.value && password.value !== confirmPassword.value) {
                confirmPassword.setCustomValidity('Passwords do not match');
            } else {
                confirmPassword.setCustomValidity('');
            }
        });
    });
</script>
{% endblock %}