{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard - FinTrack{% endblock %}

{% block content %}
<!-- Dashboard Header -->
<div class="dashboard-header fade-in">
    <h1 class="dashboard-title">
        Welcome back, <span class="text-shimmer">{{ user.first_name }}</span>! ğŸ‰
    </h1>
    <p class="dashboard-subtitle">
        Manage your finances with ease and track every rupee
    </p>
</div>

<!-- Dashboard Stats -->
<div class="dashboard-stats slide-up stagger-1">
    <div class="card stat-card hover-lift">
        <div class="stat-icon">ğŸ’°</div>
        <div class="stat-value count-up" data-value="{{ total_allocated|floatformat:0 }}">{{ total_allocated }}</div>
        <div class="stat-label">Total Allocated</div>
    </div>
    <div class="card stat-card hover-lift">
        <div class="stat-icon">ğŸ’¸</div>
        <div class="stat-value count-up" data-value="{{ total_spent|floatformat:0 }}">{{ total_spent }}</div>
        <div class="stat-label">Total Spent</div>
    </div>
    <div class="card stat-card hover-lift">
        <div class="stat-icon">ğŸ’µ</div>
        <div class="stat-value count-up" data-value="{{ total_remaining|floatformat:0 }}">{{ total_remaining }}</div>
        <div class="stat-label">Remaining</div>
    </div>
    <div class="card stat-card hover-lift">
        <div class="stat-icon">ğŸ“Š</div>
        <div class="stat-value count-up" data-value="{{ total_envelopes }}">{{ total_envelopes }}</div>
        <div class="stat-label">Active Envelopes</div>
    </div>
    <div class="card stat-card hover-lift">
        <div class="stat-icon">ğŸª™</div>
        <div class="stat-value count-up" data-value="{{ total_income|floatformat:0 }}">{{ total_income }}</div>
        <div class="stat-label">Total Income</div>
    </div>
    <div class="card stat-card hover-lift">
        <div class="stat-icon">ğŸ”¢</div>
        <div class="stat-value count-up" data-value="{{ total_income_sources }}">{{ total_income_sources }}</div>
        <div class="stat-label">Income Sources</div>
    </div>
</div>

<!-- Quick Actions -->
<div class="dashboard-actions slide-up stagger-2">
    <a href="{% url 'addenvelope' %}" class="card action-card icon-card hover-lift">
        <div class="card-icon">ğŸ“¥</div>
        <h3>Add Envelope</h3>
        <p>Create a new budget envelope to track your spending</p>
    </a>
    
    <a href="{% url 'updateenvelope' %}" class="card action-card icon-card hover-lift">
        <div class="card-icon">âœï¸</div>
        <h3>Update Envelope</h3>
        <p>Modify existing envelope allocations</p>
    </a>
    
    <a href="{% url 'homepage' %}" class="card action-card icon-card hover-lift">
        <div class="card-icon">ğŸ’¸</div>
        <h3>Add Expense</h3>
        <p>Record a new expense to an envelope</p>
    </a>
    
    <a href="{% url 'display_envelope_descriptions' %}" class="card action-card icon-card hover-lift">
        <div class="card-icon">ğŸ“ˆ</div>
        <h3>Expense Details</h3>
        <p>View detailed spending breakdown by envelope</p>
    </a>
</div>

<!-- Income Quick Actions (separated) -->
<div class="dashboard-separator" style="height:1rem"></div>
<div class="dashboard-actions slide-up stagger-2">
    <a href="{% url 'add_income' %}" class="card action-card icon-card hover-lift">
        <div class="card-icon">ğŸª™</div>
        <h3>Add Income Source</h3>
        <p>Create a new income source to track earnings</p>
    </a>
    
    <a href="{% url 'update_income' %}" class="card action-card icon-card hover-lift">
        <div class="card-icon">âœï¸</div>
        <h3>Manage Income</h3>
        <p>Edit or remove your income sources</p>
    </a>
    
    <a href="{% url 'add_income_description' %}" class="card action-card icon-card hover-lift">
        <div class="card-icon">ğŸ’³</div>
        <h3>Add Income Entry</h3>
        <p>Record income received from a source</p>
    </a>
    
    <a href="{% url 'display_income_descriptions' %}" class="card action-card icon-card hover-lift">
        <div class="card-icon">ğŸ’¹</div>
        <h3>Income Details</h3>
        <p>View detailed income breakdown by source</p>
    </a>
</div>

<!-- Optional: Tips Section -->
<div class="card pro-tip-card">
    <h3 class="pro-tip-title">ğŸ’¡ Pro Tip</h3>
    <p class="text-secondary">
        Review your envelopes regularly and adjust allocations based on your spending patterns. 
        The envelope system works best when you stick to your budget!
    </p>
</div>

{% endblock %}

{% block extra_js %}
    <script src="{% static 'js/index.js' %}"></script>
{% endblock %}