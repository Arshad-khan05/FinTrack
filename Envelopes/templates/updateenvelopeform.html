{% extends 'base.html' %}
{% load static %}

{% block title %}Update {{ envelope.Envelope_Name }} - FinTrack{% endblock %}

{% block content %}
<div class="form-container fade-in">
    <!-- Form Header -->
    <div class="form-header">
        <h1>‚úèÔ∏è Update Envelope</h1>
        <p class="text-secondary">Modify details for <strong>{{ envelope.Envelope_Name }}</strong></p>
    </div>
    
    <!-- Current Status Card -->
    <div class="card slide-up accent-gradient-purple">
        <h3 class="mb-1rem">üìä Current Status</h3>
        <div class="status-grid">
            <div>
                <div class="small-uppercase">Allocated</div>
                <div class="stat-value stat-value--primary-light">‚Çπ{{ envelope.Money_Allocated|floatformat:2 }}</div>
            </div>
            <div>
                <div class="small-uppercase">Spent</div>
                <div class="stat-value stat-value--error">‚Çπ{{ envelope.Money_Spent|floatformat:2 }}</div>
            </div>
            <div>
                <div class="small-uppercase">Remaining</div>
                <div class="stat-value stat-value--success">‚Çπ{{ envelope.Money_Remaining|floatformat:2 }}</div>
            </div>
        </div>
    </div>
    
    <!-- Update Form -->
    <div class="card form-card slide-up stagger-1">
        <form action="" method="post">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="name" class="form-label">Envelope Name</label>
                <input 
                    type="text" 
                    id="name" 
                    name="name" 
                    class="form-input" 
                    value="{{ envelope.Envelope_Name }}"
                    required
                    autofocus
                >
            </div>
            
            <div class="form-group">
                <label for="budget" class="form-label">Budget Amount (‚Çπ)</label>
                <input 
                    type="number" 
                    id="budget" 
                    name="budget" 
                    class="form-input" 
                    value="{{ envelope.Money_Allocated }}"
                    min="0"
                    step="0.01"
                    required
                >
                <span class="form-help">Total amount allocated for this envelope</span>
            </div>
            
            <div class="form-group">
                <label for="spend" class="form-label">Money Spent (‚Çπ)</label>
                <input 
                    type="number" 
                    id="spend" 
                    name="spend" 
                    class="form-input" 
                    value="{{ envelope.Money_Spent }}"
                    min="0"
                    step="0.01"
                    required
                >
                <span class="form-help">Update the total spent amount</span>
            </div>
            
            <div class="form-actions">
                <a href="{% url 'updateenvelope' %}" class="btn btn-ghost">Cancel</a>
                <button type="submit" class="btn btn-success">
                    ‚úì Update Envelope
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
    <script src="{% static 'js/updateenvelopeform.js' %}"></script>
{% endblock %}